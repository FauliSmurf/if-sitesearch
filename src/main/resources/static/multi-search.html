<!DOCTYPE html>
<!--
  ~ Copyright 2017 IntraFind Software AG. All rights reserved.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html lang="en">
<meta charset="utf-8"/>
<title>Simple Site Search</title>
<link rel="stylesheet" type="text/css" href="searchbar/css/app.css"/>
<link rel="stylesheet" type="text/css" href="theme/font/css/font-awesome.min.css"/>

<script>
    const triggerFirstUsageOwnership = async function (feedUrl) {
        const xhr = new XMLHttpRequest();
        xhr.open("PUT", "https://sitesearch.cloud/sites/rss?feedUrl=" + feedUrl);
        xhr.onload = function () {
            const tenantId = JSON.parse(this.response)["tenantId"];
            document.getElementById("tenantId").value = tenantId;
            document.cookie = "override-tenant = " + tenantId;
            document.getElementById("tenantSecret").value = JSON.parse(this.response)["tenantSecret"];
        };
        xhr.send();
    }
</script>

<style>
    label {
        font-weight: bold;
    }

    .wrapper {
        display: grid;
        grid-template-columns: 130px 400px;
    }

    label, input {
        font-weight: bold;
        border-radius: .1em;
        border: 2px;
    }

    label {
        font-weight: normal;
    }

    #index {
        text-align: center;
        font-weight: bold;
        width: 530px;
    }
</style>
<h1 style="font-size: 2em;"><span class="fa fa-search"></span> Blockchain</h1>
<div class="wrapper">
    <label for="feedUrl"><span class="fa fa-rss"></span> Feed URL</label>
    <input id="feedUrl" placeholder="Feed URL, e.g. http://intrafind.de/share/enterprise-search-blog.xml"
           value="https://streemian.com/rss/blockchain">
    <label for="tenantId"><span class="fa fa-key"></span> Tenant ID</label>
    <input id="tenantId" placeholder="Tenant ID">
    <label for="tenantSecret"><span class="fa fa-user-secret"></span> Tenant Secret</label>
    <input id="tenantSecret" placeholder="Tenant Secret">
</div>
<button id="index" class="fa fa-cogs"
        style="height: 1.5em; font-size: 2em;"
        onclick="triggerFirstUsageOwnership(document.getElementById('feedUrl').value)">
    Enable Search
</button>

<div class="container" style="margin-top:22px; width: 530px;">
    <div id="searchbar"></div>
    <div id="resultlist"></div>
</div>

<script src="searchbar/js/app.js"></script>
<script>
    jQuery.noConflict();
    jQuery(document).ready(function ($) {

        IFS.initClient({
            sbTarget: "#searchbar",
            configurl: "searchbar/data/sitesearch-config.json",
            sitesearch: true,
            tenantId: "ea62047f-d824-4d4a-95c2-1e00ceb3cf78"
        });
    });
</script>


<!--&lt;!&ndash;///////////////////////////&ndash;&gt;-->

<!--<h1 style="font-size: 2em;"><span class="fa fa-search"></span> Life Style</h1>-->
<!--<div class="wrapper">-->
<!--<label for="feedUrl1"><span class="fa fa-rss"></span> Feed URL</label>-->
<!--<input id="feedUrl1" placeholder="Feed URL, e.g. http://intrafind.de/share/enterprise-search-blog.xml"-->
<!--value="https://streemian.com/rss/life">-->
<!--<label for="tenantId1"><span class="fa fa-key"></span> Tenant ID</label>-->
<!--<input id="tenantId1" placeholder="Tenant ID">-->
<!--<label for="tenantSecret1"><span class="fa fa-user-secret"></span> Tenant Secret</label>-->
<!--<input id="tenantSecret1" placeholder="Tenant Secret">-->
<!--</div>-->
<!--<button id="index1" class="fa fa-cogs"-->
<!--style="height: 1.5em; font-size: 2em;"-->
<!--onclick="triggerFirstUsageOwnership(document.getElementById('feedUrl1').value)">-->
<!--Enable Search-->
<!--</button>-->

<!--<div class="container1" style="margin-top:22px; width: 530px;">-->
<!--<div id="searchbar1"></div>-->
<!--<div id="resultlist1"></div>-->
<!--</div>-->

<!--<script src="searchbar/js/app.js"></script>-->
<!--<script>-->
<!--jQuery.noConflict();-->
<!--jQuery(document).ready(function ($) {-->

<!--IFS.initClient({-->
<!--sbTarget: "#searchbar1",-->
<!--configurl: "searchbar/data/sitesearch-config.json",-->
<!--sitesearch: true,-->
<!--tenantId: "248c9822-d5eb-45cb-bbab-fad1b1aad894"-->
<!--});-->
<!--});-->
<!--</script>-->

<!--&lt;!&ndash;============================&ndash;&gt;-->

<!--<h1 style="font-size: 2em;"><span class="fa fa-search"></span> Art</h1>-->
<!--<div class="wrapper">-->
<!--<label for="feedUrl2"><span class="fa fa-rss"></span> Feed URL</label>-->
<!--<input id="feedUrl2" placeholder="Feed URL, e.g. http://intrafind.de/share/enterprise-search-blog.xml"-->
<!--value="https://streemian.com/rss/art">-->
<!--<label for="tenantId2"><span class="fa fa-key"></span> Tenant ID</label>-->
<!--<input id="tenantId2" placeholder="Tenant ID">-->
<!--<label for="tenantSecret2"><span class="fa fa-user-secret"></span> Tenant Secret</label>-->
<!--<input id="tenantSecret2" placeholder="Tenant Secret">-->
<!--</div>-->
<!--<button id="index2" class="fa fa-cogs"-->
<!--style="height: 1.5em; font-size: 2em;"-->
<!--onclick="triggerFirstUsageOwnership(document.getElementById('feedUrl2').value)">-->
<!--Enable Search-->
<!--</button>-->

<!--<div class="container2" style="margin-top:22px; width: 530px;">-->
<!--<div id="searchbar2"></div>-->
<!--<div id="resultlist2"></div>-->
<!--</div>-->

<!--<script src="searchbar/js/app.js"></script>-->
<!--<script>-->
<!--jQuery.noConflict();-->
<!--jQuery(document).ready(function ($) {-->

<!--IFS.initClient({-->
<!--sbTarget: "#searchbar2",-->
<!--configurl: "searchbar/data/sitesearch-config.json",-->
<!--sitesearch: true,-->
<!--tenantId: "248c9822-d5eb-45cb-bbab-fad1b1aad894"-->
<!--});-->
<!--});-->
<!--</script>-->

<!--&lt;!&ndash;============================&ndash;&gt;-->

<!--<h1 style="font-size: 2em;"><span class="fa fa-search"></span> News</h1>-->
<!--<div class="wrapper">-->
<!--<label for="feedUrl3"><span class="fa fa-rss"></span> Feed URL</label>-->
<!--<input id="feedUrl3" placeholder="Feed URL, e.g. http://intrafind.de/share/enterprise-search-blog.xml"-->
<!--value="https://streemian.com/rss/news">-->
<!--<label for="tenantId3"><span class="fa fa-key"></span> Tenant ID</label>-->
<!--<input id="tenantId3" placeholder="Tenant ID">-->
<!--<label for="tenantSecret3"><span class="fa fa-user-secret"></span> Tenant Secret</label>-->
<!--<input id="tenantSecret3" placeholder="Tenant Secret">-->
<!--</div>-->
<!--<button id="index3" class="fa fa-cogs"-->
<!--style="height: 1.5em; font-size: 2em;"-->
<!--onclick="triggerFirstUsageOwnership(document.getElementById('feedUrl3').value)">-->
<!--Enable Search-->
<!--</button>-->

<!--<div class="container3" style="margin-top:22px; width: 530px;">-->
<!--<div id="searchbar3"></div>-->
<!--<div id="resultlist3"></div>-->
<!--</div>-->

<!--<script src="searchbar/js/app.js"></script>-->
<!--<script>-->
<!--jQuery.noConflict();-->
<!--jQuery(document).ready(async function ($) {-->
<!--IFS.initClient({-->
<!--sbTarget: "#searchbar3",-->
<!--configurl: "searchbar/data/sitesearch-config.json",-->
<!--sitesearch: true,-->
<!--tenantId: "248c9822-d5eb-45cb-bbab-fad1b1aad894"-->
<!--});-->
<!--});-->
<!--</script>-->