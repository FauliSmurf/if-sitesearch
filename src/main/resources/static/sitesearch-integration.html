<!DOCTYPE html>
<!--
  ~ Copyright 2017 IntraFind Software AG. All rights reserved.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html lang="en">
<meta charset="utf-8"/>
<title>Simple Site Search Integration</title>
<link rel="stylesheet" href="https://sitesearch.cloud/searchbar/css/app.css"/>

<div id="searchbarContainer">
    <style>
        .if-teaser-highlight {
            font-weight: bold;
        }
    </style>
    <div class="container" style="width: 530px;">
        <div id="searchbar"></div>
        <div id="resultlist"></div>
    </div>

    <script src="https://sitesearch.cloud/searchbar/js/app.js"></script>
    <script>
        jQuery.noConflict();
        jQuery(document).ready(function ($) {

            IFS.initClient({
                sbTarget: "#searchbar",
                configurl: "https://sitesearch.cloud/searchbar/data/sitesearch-config.json",
                sitesearch: true,
                tenantId: "eefb005b-7c2d-471a-baf7-b10e7c18b65b"
            });
        });
    </script>
</div>

<input id="tenantId" placeholder="Your Tenant ID" onchange="generateCode();">
<textarea name="integration" id="integration" cols="64" rows="20" style="margin-bottom: 5em;">
</textarea>

<script>
    const generateCode = function () {
        document.getElementById("integration").textContent =
            "<link rel=\"stylesheet\" href=\"https://sitesearch.cloud/searchbar/css/app.css\"/>"
            + document.getElementById("searchbarContainer").outerHTML
                .replace("tenantId: \"eefb005b-7c2d-471a-baf7-b10e7c18b65b\"", document.getElementById("tenantId").value);
    };
    generateCode();
</script>