<!DOCTYPE html>
<!--
  ~ Copyright 2017 IntraFind Software AG. All rights reserved.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Site Search</title>

        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:100italic,200italic,300italic,400italic,500italic,600italic,700italic,800italic,900italic,100,200,300,400,500,600,700,800,900" media="all">
        <link rel="stylesheet" type="text/css" href="https://api.sitesearch.cloud/theme/font/css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" href="main.css">

        <script src="/app/runtime/kotlin.js"></script>
        <script src="/app/gadget/gadget.js"></script>

    </head>

    <body>

        <h2>Site Search Widget</h2>

        <div class="wrapper">
            <div class="form-inline">
                <label for="feedUrl">
                    <span class="fa fa-rss"></span>
                    RSS Feed URL
                </label>
                <input type="text" id="feedUrl" placeholder="Feed URL, e.g. https://intrafind.de/share/enterprise-search-blog.xml" title="Crawling support, coming soon" value="https://intrafind.de/share/enterprise-search-blog.xml">
            </div>
            <div class="form-inline">
                <label for="siteId">
                    <span class="fa fa-key"></span>
                    Site ID
                </label>
                <div id="siteId">Will be generated...</div>
            </div>
            <div class="form-inline">
                <label for="siteSecret">
                    <span class="fa fa-user-secret"></span>
                    Site Secret
                </label>
                <div id="siteSecret">Will be generated...</div>
            </div>
        </div>
        <!--<label for="email"><span class="fa fa-envelope-o"></span> E-mail</label>-->
        <!--<input id="email" placeholder="E-mail" value="feedback@sitesearch.cloud" readonly>-->

        <div class="button-wrapper">
            <button id="index" class="button-wrapper" title="Extract content from website" onclick="gadget.com.intrafind.sitesearch.gadget.triggerFirstUsageOwnership()">
                Enable Search
            </button>
        </div>

        <div style="display: none;">
            <input id="overrideSiteId"
                title="Leave it blank if you do not know what this means."
                placeholder="Site ID to use for all Site Search requests" style="width: 306px;">
            <button
                onclick="gadget.com.intrafind.sitesearch.gadget.overrideSite(document.getElementById('overrideSiteId').value)"
                title="Site ID Cookie overrides the Site ID which is specified in the initialization code for all requests to Site Search."
                style="width: 217px;">
                Override with Site ID Cookie
            </button>
        </div>

        <!--<h3>Search your website</h3> TODO add sub-header?-->
        <!--TODO search results not clickable-->
        <div id="sitesearch-searchbar" class="searchbar">
            <link rel="stylesheet" type="text/css"
                  href="https://cdn.sitesearch.cloud/searchbar/2017-12-14/app/css/app.css"/>
            <div class="container">
                <div id="searchbar"></div>
                <div id="resultlist"></div>
            </div>

            <!--Place this "Search Bar Integration Code" at the very end of your HTML document.-->
            <!--BEGIN "Search Bar Integration Code"-->
            <script src="https://cdn.sitesearch.cloud/searchbar/2017-12-14/app/js/app.js"></script>
            <script>
                IFS.jQuery.noConflict();
                IFS.jQuery(document).ready(function ($) {
                    IFS.initClient({
                        customConfig: {
                            overwrite: {
                                "appLang": "en"
                            }
                        },
                        sbTarget: "#searchbar",
                        configurl: "/searchbar/2017-12-14/config/sitesearch.json",
                        sitesearch: true,
                        withCredentials: false,
                        siteId: "4bcccea2-8bcf-4280-88c7-8736e9c3d15c"
                    });
                });
            </script>
            <!--END "Search Bar Integration Code"-->
        </div>

        <div id="page-finder"></div>
        <script id="sitesearch-page-finder-init"
                src="/app/finder/finder.js"
                data-append-as-child-to="#page-finder"
                data-search-style="width: 530px; font-size: 2em; text-indent: .5em;"
                data-siteId="4bcccea2-8bcf-4280-88c7-8736e9c3d15c"
        ></script>

        <h3>Add Site Search to your website</h3>

        <div id="searchbar-variant-choice" style="display: none;">
            <input id="searchbar-variant" type="radio" style="width: 30px; height: 1.2em;" value="Enterprise search bar"
                   name="clientChoice" title="Solid, reliable, production-grade search bar implementation"
                   checked><strong>Enterprise</strong>
            <input id="finder-variant" type="radio" style="width: 30px; height: 1.2em;"
                   value="{if-lab} Finder (experimental)"
                   name="clientChoice"
                   title="A proof of concept search bar, not recommended for production deployments"><strong>Experimental</strong>
        </div>
        <br>

        <textarea id="integration-code" title="Integration code to be inserted into your website to include a search bar"></textarea>

    </body>

</html>
